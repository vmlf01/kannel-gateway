NEWS about Kannel: Open Source WAP and SMS Gateway version 1.1

This is a DEVELOPMENT version. It should be usable for experimentation
and testing, and is a release candidate for 1.2. Please do try it out
and report problems to devel@kannel.org (the development mailing list)
or bugs@kannel.org (the bug tracking system).

This version continues the 0.13.x series.  We named it 1.1 instead of
0.13.2 in order to make clear that it isn't older than 1.0.

NOTE: This is not an update to 1.0.  Updates to 1.0 will be numbered 1.0.x,
until we decide to release 1.2.  See the VERSION file for details.

Changes since version 0.13.1:


Compatibility breakers:

 * Replies from the bearerbox admin interface are now formatted according
   to the Accept: headers sent by the client, preferring WML over HTML
   over plain text.  They used to always be plain text.

 * Filling in admin-password is now mandatory in the configuration file.

 * In the configuration for UCP/EMI SMSCs, username and password are
   now used if they are set, and not used if they are not.
   They used to be mandatory even though they were never used, so in
   existing configurations they are likely to contain dummy values
   that will not work.  (This was actually changed before 0.13.1, we
   forgot to note it then.)


New features:

 * New SMPP module.  Written for SMPP 3.4 but should support 3.3 as well.

 * smsbox reports load to the bearerbox.

 * Added status.wml, status.html, and status.txt commands to the bearerbox
   admin interface, to return status in a specific format.

 * If admin commands are tried with the wrong password, the response is
   delayed, in order to limit brute force password cracking.

 * New configuration variable status-password, which protects the status
   admin command if it is set.

 * Admin commands can be used without a /cgi-bin part in the URL.
   So http://localhost:13000/cgi-bin/status can now become just
   http://localhost:13000/status.

 * New smsc configuration group variable 'allowed-smsc-id', which lets
   you limit which messages can be sent to a specific SMSC.

 * New architecture documentation.

 * New SMS testing tool called fake2.  It works like the old fakesmsc,
   but can be started and stopped while Kannel is running, which makes
   it easier to use.

 * New URL translation %k in smsbox, which is replaced with the keyword
   of the SMS request.

 * Improved portability to FreeBSD by using less stack space per thread.


Bugfixes:

 * The u-dieresis (u with two dots) was translated incorrectly to the
   GSM character set, in the AT, CIMD2, and SMPP drivers.  Fixed.

 * The EMI used to crash if username was not set.  Fixed.

 * WML compiler can handle a libxml that was compiled with
   the -DXML_USE_BUFFER_CONTENT flag.

 * WML compiler: If charset is not supplied in a WML file, the
   one from the HTTP content-type header is used instead, if available.

 * Fixed signal handling on Solaris and other systems with POSIX threads.


Development news:

 * New SMSC interface in the bearerbox, which should allow much faster
   implementations and better error handling.  There is a wrapper for
   the old interface, because no SMSC drivers have been converted yet.

 * New configuration file interface that uses Octstrs.

 * Work started on WAP Push.


Changes since version 0.13:


New features:

 * WTP and WSP protocol stacks are now separate, so that other projects
   than Kannel can make use of them.

 * Redesigned smsbox to have a stable number of threads.  It is much
   more stable now, handles more requests at a time, and shuts down
   more cleanly.

 * sendota interface accepts more than one OTA configuration.

 * Driver for UCP/EMI SMSCs supports authenticated sessions.

 * smsbox accepts WML responses as well as plain text and HTML responses.


Bugfixes:

 * Improved HTTP module's support for HTTP/1.0 clients and servers.

 * Fixed UDH encoding in Phone-as-SMSC module.

 * Fixed splitting of SMS messages that have UDH.

 * HTML to SMS conversion now deals with entities like &#1234; correctly.
   (Also fixed in 0.12.3)

 * Several bugs and memory leaks fixed in SMPP module.

 * Bearerbox detection of inactive SMSCs is less trigger-happy.
   This greatly improves throughput if the roundtrip to the SMSC is
   slower than 10 milliseconds.  (Also fixed in 0.12.3)

 * Detect libxml 2.2.10 and above as part of the 2.2.x series.
   (Also fixed in 0.12.3)

 * Fixed some memory leaks.


Development news:

 * Checking malloc now displays some of the contents of the memory leaks
   it finds, which makes it much easier to track them down.

 * Started building support for WAP Push.


Changes compared to version 0.12.3:


New features:

 * HTTP module restructured to use a fixed number of threads.  This makes
   it able to handle many more requests at a time.

 * Kannel boxes report version numbers of themselves and their components
   (such as libxml) when starting up.

 * Support for proxies that require basic authorization.

 * Bearerbox "status" command reports lengths of internal queues.

 * Phone-as-SMSC module now also supports Falcom A2D modem and Nokia 7110.

 * Added configure option --with-defaults=speed for production systems.

 * Updated documentation.

 * Bearerbox starts up faster.

 * sendsms interface can handle multiple requests over one HTTP/1.1
   connection.

 * Improved portability to HP/UX, FreeBSD and Cygwin, possibly others.

 * Support magic URL "kannel:alive", to check if the gateway is still running.

 * Support for PAM authentication of sendsms interface.

 * Sendsms interface checks that UDH messages have a correct length indicator.


Bugfixes:

 * Fixed several bugs in Phone-as-SMSC module.

 * Fixed the problem that switching malloc wrappers required a "make clean"
   when recompiling.


Development news:

 * Many files have been reformatted to our new coding style.

 * Renamed Msg type smart_sms to just sms.

 * New Dict module in gwlib, for Octstr -> value hash tables.

 * New FDSet module in gwlib, for efficient polling of large sets of
   file descriptors.  Used by HTTP module.  Connection module has
   extensions for it.


See ChangeLog for detailed information.
