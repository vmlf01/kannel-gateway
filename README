README for Kannel: Open Source WAP and SMS Gateway


Abstract

	This README describes Kannel, the WapIT Open Source WAP and SMS
	gateway, and how it can be used and installed.

Status of README

	Very raw draft.

Introduction

	The Kannel Open Source WAP and SMS gateway works as both an SMS
	gateway, for implementing keyword based services via GSM text
	messages, and a WAP gateway, via UDP. The SMS part is fairly
	mature, the WAP part is very early in its development.	In this
	release, the GET request for WML pages and WMLScript files via
	HTTP works, including compilation for WML and WMLScript to binary
	forms. Only the data call bearer (UDP) is supported, not SMS.
	
Requirements

	You need a Unix-like operating system that supports Posix threads
	(pthreads.h). We use Red Hat Linux 6.0 and 6.1 and Debian
	development ("unstable" version) systems.

Documentation

	There is some documentation about how the gateway has been
	implemented in the doc/arch directory. The doc/userguide directory
	will contain a user manual, but that isn't written yet.

Getting the gateway sources

	You can download the sources from
	http://www.kannel.org/sourcecode.shtml.
	
	Note that you also need the Gnome-xml library from
	http://xmlsoft.org/xml.html. That one probably requires zlib,
	depending on how it is configured.

Compiling and installing the gateway

	See the file INSTALL for generic installation instructions.
	The short form:
	
		./configure
		touch .depend
		make depend
		make
		make bindir=/somewhere/suitable install

	You need to copy the gw/bearerbox, gw/wapbox, gw/smsbox and
	test/test_wml programs somewhere suitable.
	
	You may need to add compilations flags to configure:
	
		CFLAGS='-pthread' ./configure
	
	The above, for instance, seems to be required on FreeBSD.

For developers only: autoconf, configure, config.status, and Makefile

	We use the GNU autoconf tool to make it easier to adapt Kannel to
	each platform. The `autoconf' program reads the file configure.in,
	and generates a corresponding shell script called configure,
	which investigates the system it runs on to see what it supports
	and what it does not. configure then reads Makefile.in and
	config.h.in and writes out Makefile, config.h, and a shell
	script config.status.
	
	If you modify configure.in, you need to run autoconf.
	
	If you modify Makefile.in or config.h.in, you need to run
	config.status.
	
	If you modify any source files to add or change any header
	includes, you need to run "make depend".
	
	You always need to run "make" (which is the same as "make all").
	
	If you have trouble building things and suspect that there is a
	problem with the Makefile, run "make clean all". If that solves
	it, report it as a bug (see the end of this README).

Configuring the gateway

	The gw/bearerbox.conf, gw/smsbox.smsconf, and gw/wapbox.wapconf
	files configure the gateway. The sample configuration files
	contain explanations for changing them.

Running the gateway

	You need to run the gw/bearerbox program (from the gw directory).
	If you want SMS services, you also need to run gw/smsbox, and
	if you want WAP services, you also need to run gw/wapbox.
	
	Note that to run the wapbox, you need to set the environment
	variable TEST_WML to the path to the test_wml program. For
	example:
	
		TEST_WML=../test/test_wml ./wapbox foo.wapconf
	
	(The above command will work for the Bourne shell and lookalikes
	such as zsh.)

	Otherwise you'll get mysterious error messages. (This is a
	temporary feature.)

Using the gateway with a Nokia 7110

	To configure a Nokia 7110 to use the gateway, fill in the
	following (note that you need to provide your own dialup
	line):
	
		Home page: http://www.wapit.com/~liw/hello.wml
		(or any other WML page)
		
		Connection type: continuous
		
		Connection security: off
		
		Bearer: data
		
		Dial-up number: <your dialup line>
		
		IP address: <IP number of the host running bearer box>
		
		Authentication type: normal
		
		Data call type: <analog or isdn, depending on your line>
		
		Data call speed: 9600
		
		User name: <username for your dialup line>
		
		Password: <password for your dialup line>
		
	After you have modified the profile, activate it and load the
	home page. If you use the sample page above, you should see
	"hello, world" on the screen after a few moments.

Controlling the gateway via HTTP

	The gateway can be controlled with HTTP calls to the bearer box.
	These are at the moment undocumented except for comments in
	gw/bearerbox.conf.
	
	The SMS box also listens for HTTP calls so that it is possible
	to send SMS messages via HTTP. This is also undocumented at
	the moment.
	
	See gw/control.html for examples, however.

Feedback and more information

	You may want to subscribe the announce and devel lists at
	kannel.org if you need help or want to participate in the
	development of Kannel. Send e-mail to
	
		announce-subscribe@kannel.org
		devel-subscribe@kannel.org

	(You'll get further instructions via automatic reply mails.)
