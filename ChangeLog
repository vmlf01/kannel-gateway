1999-11-29    <rpr@rpr.wapit.com>

	* gw/smsbox_req.c: added that 'return' to smsbox request if
	max-messages was set to '0'

Mon Nov 29 17:17:44 1999  Lars Wirzenius  <liw@wapit.com>

	* gw/bearerbox.conf: Replaced interface-name's IP number with *,
	so that it works on other machines as well.
	
	* gw/wsp.c, gw/wsp.h, gw/wsp_machine-decl.h, gw/wsp_state-decl.h:
	Wrote.
	
	* gw/wtp.c, gw/wtp.h: Moved and renamed things for wsp stuff.
	
	* 

1999-11-29 Aarno Syvänen <syvanen@wapit.cm>

	*header files reorganized so that (most) types are defined in wtp.h

	*wtp_send.c: added a prototype result PDU packing function

1999-11-29    <rpr@rpr.wapit.com>

	* gwlib/octstr.c, gw/*box.c: modified octstr_recv to return 1 for
	data and 0 for EOF. Changed boxes accordingly 

1999-11-29    <rpr@rpr.wapit.com>

	* gwlib/*: renamed gwlog as log and separated socket functions to
	own module 'socket.c'. Renamed remaining wapitlib as 'utils'

	* */*.c, */*.h: removed last wapitlib.h references

1999-11-29    <rpr@rpr.wapit.com>

	* gw/smsbox_req.c: added sender username for sendsms request log
	output

	* gw/urltrans.c: fixed swapped receiver and sender

	* gwlib/*.*: split wapitlib into several parts, some splitting
	still possibly. All projects should work but those including 
	wapitlib.h should be converted to use gwlib.h instead

1999-11-26    <rpr@rpr.wapit.com>

	* gwlib/gwmem.*, gwlib/gwlib.h: Added new dynamic memory handling
	functions. All programs should be modified to use these. They
	simply PANIC if the allocation fails, so need to check their
	return value.

1999-11-26  Aarno Syvänen <syvanen@wapit.com>

	*wtp_state-decl.h: Added new rows in the state table (enough to run
	wtp proto). 

1999-11-25  Aarno Syvänen <syvanen@wapit.com>

	*wtp.c: Fixed another bug in the function handle_event. No it generates
	only one indication, even though it receives many invoke messages.

1999-11-25    <rpr@rpr.wapit.com>

	* gwlib/gwlib.h: added general gwlib header, which includes all
	parts of gwlib

	* */*.c: modified most of the modules to use new gwlib.h. Old ones
	still work

Thu Nov 25 15:49:13 1999  Lars Wirzenius  <liw@iki.fi>

	* gw/smsc_p.h: Added a missing include for signal.h to get the
	sig_atomic_t typedef.

1999-11-24    <rpr@rpr.wapit.com>

	* gw/smsc.c: delayed re-open calls, with panic-option

	* gw/bearerbox.c: added load of mutex lockings

	* gw/smsbox_req.c, gw/urltrans.*: added 'footer' and 'header'
	service configurations

	* utils/makedist: partial update

1999-11-24 Mikael Gueck <mikael@wapit.com>

	* gw/csdr.c, gw/boxc.c: Solaris compatibility hack, later
	  to wapitlib.c.

Wed Nov 24 13:31:44 1999  Lars Wirzenius  <liw@wapit.com>

	* Makefile, Rules.mk, doc/*/Makefile: Modifications so it works
	on Red Hat and gets timestamps OK.

Wed Nov 24 12:30:46 1999  Lars Wirzenius  <liw@wapit.com>

	* gw/wapbox.c: wapbox.conf renamed to wapbox.wapconf.

1999-11-23 Aarno Syvänen <syvanen@wapit.com>

	* header files: fixed few bugs in files wtp_machine-decl.h and 
	wtp_state-decl.h

	* wtp.c: fixed bugs in various functions

Tue Nov 23 12:07:03 1999  Lars Wirzenius  <liw@wapit.com>

	* Makefile: Added more stuff for docs.
	
	* Rules.mk, doc/*/Makefile: Moved common stuff to new Rules.mk,
	which is included by the individual makefiles.
	
	* doc/*/*.xml: Converted to use the SGML identifier of DocBook,
	instead of the XML one, because we have the SGML version of
	DocBook on Red Hat machines.

1999-11-22    <rpr@rpr.wapit.com>

	* gwlib/wapitlib.*: added function check_ip

	* gw/bearerbox.*, gw/boxc.*, gw/smsbox.*: added configuration
	strings allowed-hosts, denied-hosts, http-allowed-hosts and
	http-denied-hosts.

	* gw/bearerbox.c, gw/smsc.*: added 'bacup' default router to
	SMSCes, and set that non-answering SMSC gets back in line - in
	time.

	* gw/bb.h: changed default heartbeat-frequency to 30 seconds.
	
Mon Nov 22 11:37:39 1999  Lars Wirzenius  <liw@wapit.com>

	* doc/userguide: Wrote draft outline of user's guide.
	
	* Makefile: Added stuff for docs.

1999-11-19 Aarno Syvänen <syvanen@wapit.com>

	* header files: add header files for wsp events and wtp state machine

	* wtp.c: add wsp event manipulating  functions and a wtp state machine
	handling function

1999-11-19    <rpr@rpr.wapit.com>

	* gw/bearerbox.c: separated 'sendsms' to port of the internal SMS
	Box, if any. And fixed number normalization, it failed in some
	cases. (MG: does CIMD strip the first character in receiever number?) 
	
1999-11-19    <rpr@rpr.wapit.com>

	* gw/smsbox_req.c: returned info about new service starting, fixed
	some bugs

	* gw/bearerbox.c: fixed mutex deadlock in internal sms box and
	heartbeat bug in sms and wap boxes.

	* gw/boxc.c: commented ack/nack things out as they are not
	currently supported

1999-11-19    <rpr@rpr.wapit.com>

	* gw/smsc_*.*: removed last submit_smsmessage and
	receive_smsmessages. The EMI code still needs some fixing but
	should work now.

	* gw/bb_msg.*: removed client_data as it is not ever used.

	* gw/smsc.c, gw/bearerbox.c: fixed reconnecting procedures.

1999-11-19    <rpr@rpr.wapit.com>

	* gw/csdr.c, gw/csdr.h: modified to add 'routing_info' for
	received messages, and to save own IP and port when started. All
	other gethostyname-calls removed. Not tested, however.

1999-11-19    <rpr@rpr.wapit.com>

	* gw/smsbox_req.c, gw/smsbox_re.h, gw/smsbox.c: Did some bugfixing
	and updated header file comments (documentation) 

Fri Nov 19 11:13:17 1999  Lars Wirzenius  <liw@wapit.com>

	* gw/msg.c: msg_pack and msg_unpack handle NULL octstr-fields.

1999-11-19    <mikael@wapit.com>

	* gw/csdr.(c|h): added csdr_is_to_us to check whether a
	wdp_datagram should be routed through a specific CSDRouter.

1999-11-18    <rpr@rpr.wapit.com>

	* gw/bearerbox.c: added wdp_datagram routing functions, and means
	to get rid of old information and simple re-routing for messages
	after a wap box fails

	* gw/bb_msg.c, gw/bb_msg.h: added function rq_change_destination
	for wdp_datagram routing use

1999-11-18    <mikael@wapit.com>

	* gwlib/http.c, gw/smsbox_req.c: Content-Type fetching
	in http_get works, interface changed.

1999-11-18    <rpr@rpr.wapit.com>

	* gw/smsbox_req.c, gw/smsbox.c: Modified send_message to use
	octstrings instead of char *. UDH part not yet ready.

	* gwlib/octstr.c, gwlib/octstr.h: Added function octstr_truncate

Thu Nov 18 15:13:44 1999  Lars Wirzenius  <liw@wapit.com>

	* doc/arch/arch-smsbox.xml: Fixed DocBook syntax errors.
	
	* gw/msg.c, gw/msg.h, test/test_msg.c: Wrote function msg_duplicate.
	
	* Makefile: Fixed typo in libtest.a rule.

1999-11-17 Aarno Syvänen <syvanen@wapit.com>

	* wtp.c: some bug fixing in function wtp_unpack_wdp_datagram 

1999-11-17    <rpr@rpr.wapit.com>

	* wapitlib.c, wapitlib.h: added functions mutex_lock and
	mutex_unlock, which loack/unlock given mutex and panic if fail -
	as panic is acceptable as mutex fails only because of coding error
	(too early call or out-of-sequence call)

	* bearerbox.c, smsbox.c, bb_msg.c: modified to use new mutex_lock
	and unlock functions
	
1999-11-17    <rpr@rpr.wapit.com>

	* gw/bearerbox.c: fixed heartbeat bug

	* gw/smsbox.c: added debug information
	
1999-11-17    <rpr@rpr.wapit.com>

	* gwlib/wapitlib.c: catched signal interrupts in read

	* gw/bearerbox.c: internal sms box implemented. Still some
	problems when the system wents down

	* gw/boxc.c, gw/smsbox_rew.c: updates

	* gw/smsc_cimd.c: quick hack to connect CIMD 1.37. Partial. MG,
	fix this.

1999-11-17    <rpr@rpr.wapit.com>

	* smsbox_req.c: added username 'default', which is used, if no
	username is specified in 'sendsms' http-request

	* smsbox.smsconf: documentation updated accordingly

Tue Nov 16 17:32:34 1999  Lars Wirzenius  <liw@wapit.com>

	* gw/csdr.c: Fixed bug that prevented client address from being
	queryed. (Server address still isn't set correctly.)

1999-11-16    <rpr@rpr.wapit.com>

	* doc/arch/arch-bearerbox.xml: updated to reflect current version

Tue Nov 16 15:40:59 1999  Lars Wirzenius  <liw@wapit.com>

	* Makefile: Added compilation of test programs.
	
	* test/test_msg.c: Added a call to msg_dump.c.

Tue Nov 16 14:57:55 1999  Lars Wirzenius  <liw@wapit.com>

	* Moved a number of files from smsgateway here.

Tue Nov 16 13:11:13 1999  Lars Wirzenius  <liw@wapit.com>

	* Massive reorganization of the directory tree. Almost all files
	moved to subdirectories. Makefile somewhat rewritten.

1999-11-16    <rpr@rpr.wapit.com>

	* bearerbox.c, boxc.c, smsbox.c, smsbox_req.c, smsbox_rq.h,
	Makefile: Preparing bearerbox for internal SMS Box.

Tue Nov 16 12:21:41 1999  Lars Wirzenius  <liw@wapit.com>

	* Makefile, fakesmsc.c, http.c, wapitlib.h: Solaris support
	modified from patch by Steve Kennedy <steve-wapgateway@gbnet.net>.

1999-11-16    <rpr@rpr.wapit.com>

	* smsbox_req.c, smsbox_reg.h, smsbox.c, Makefile: separated 
	request handling to own module so that it can be used as thread 
	in bearerbox (implemented later)

	* bearerbox.c: someone has messed with print_threads

1999-11-15    <mikael@wapit.com>

	* smsc*.(c|h), *box.c: getting rid of the SMSMessage structure
	and pending_* plus adding better UDH support. However, I'm
	having second thoughts about having two sms types...

1999-11-15    <rpr@rpr.wapit.com>

	* bearerbox.c, control.html, bearerbox.conf: added new
	adminstration command 'disconnect'

	* boxc.c, boxc.h: added 'client_ip' information
	
1999-11-15    <rpr@rpr.wapit.com>

	* control.html: added simple control tool

	* bearerbox.c, bearerbox.conf, fake.conf: added simple
	HTTP-adminstration and watching routines

	* smsbox.c: updated comments
	
1999-11-15    <rpr@rpr.wapit.com>

	* bearerbox.c, boxc.c: Basic routing for WAP messages. Does not
	work with connectioned sessions, if there are more than one WAP
	BOX. Tough. Fixed later.

	* bb_msg.c, bb_msg.h: initiated better routing systems for
	WAP-messages, but implementation not ready
	
	* smsbox.c: file urltrans-request fixed.

1999-11-15 Mikael Gueck <mikael.gueck@wapit.com>

	* csdr.c: send and receive UDP datagrams.

	* smsc_smpp.c: 8bit receive related fixes.

1999-11-15    <rpr@rpr.wapit.com>

	* smsbox.smsconf, simple.smsconf: renamed previous smsbox.conf as
	.smsconf so that they are distinguished from bearerbox
	configuration

	* smsbox.c: fixing 'file' urltransh-requests. Still some bugs

	* bearerbox.c: WAP-packets are sent onward.. routing still missing

Mon Nov 15 12:04:37 1999  Lars Wirzenius  <liw@wapit.com>

	* wapbox.c, wapbox.conf: Wrote. This is the main module of
	the WAP box.
	
	* wapbox_feeder.c: Trivial test program for wapbox.c.
	
	* Makefile: related changes.
	
	* octstr.c: removed debugging message telling argument was NULL.
	Now a NULL argument is silently ignored.
	
	* msg.c: Added name of message type to message dump.

1999-11-12    <rpr@rpr.wapit.com>

	* bearerbox.c, boxc.c: ready for WAP invasion (ok, still missing
	routing functions and sending is currently set off)

Fri Nov 12 17:30:08 1999  Lars Wirzenius  <liw@wapit.com>

	* Makefile: added "make depend". This only works with GNU make,
	shame on me.

1999-11-12    <rpr@rpr.wapit.com>

	* html.c: modified html_strip_suffix_and_prefix to use
	str_case-str

	* urltrans.c, smsbox.c: fixed aliases

	* wapitlib.c, bearerbox.c: modified select to understand certain
	signals

Fri Nov 12 17:06:52 1999  Lars Wirzenius  <liw@wapit.com>

	* wapitlib.c and .h: Added str_case_str.

1999-11-12    <rpr@rpr.wapit.com>

	* smsc.h, smsc.c, bearerbox.c: added re-connecting functions to
	smsc_get_message, and changed interface a bit

	* smsbox.c, smsbox.conf: fixed multiple sms sending. Changed that
	when 'split-chars' are used, the splitting character is included
	in previous part, not the following one.
	
	* simple.conf: two sample sendsms users

1999-11-12    <rpr@rpr.wapit.com>

	* bb_msg.h, bb_msg.c: added functions _last_mod and
	_oldest_message for better queue control, and total number of
	added messages to queue length

	* bearerbox.c, boxc.c: some performance fixes
	
1999-11-12    <rpr@rpr.wapit.com>

	* Release-0.1: added file to list modifications to SMSGateway 0.6
	This is updated as the gateway is improved.	

	* octstr.c, octstr.h: added function octstr_replace, so that
	unnecessary destroy/create can be avoided

Fri Nov 12 02:00:00 1999  Mikael Gueck  <mikael.gueck@wapit.com>

	* http.(c|h), *box.c: httpserver_get_request now returns
	the client IP.

	* lots of other unspecified stuff

1999-11-11    <rpr@rpr.wapit.com>

	* octstr.c, octstr.h: added octstr_create_limited

	* many modules: changed bearerbox and smsbox to use Msg instead
	of SMSMessage. As these are not quite perfect currently, the
	system does not work well right now. Waiting for patches from
	other participants.

Thu Nov 11 19:41:40 1999  Lars Wirzenius  <liw@wapit.com>

	* msg.c: Fixed warning of unused variable and erroneous packing of
	of strings. Wrote msg_dump.

	* octstr.c: octstr_dump can be called with a NULl argument.

1999-11-11    <rpr@rpr.wapit.com>

	* msg.h, msg.c: added function msg_type.

	* octstr.h, octstr.c: functions octstr_duplicate, octstr_send ja
	octstr_recv added. 

	* unlimited number of improvements, bugfixing and enhancements in
	other modules. Too many.

1999-11-09    <rpr@rpr.wapit.com>

	* initial release. Copied several files from old smsgateway
	project, added new protypes and commented thigns out so that
	they cvan be compiled. This does NOT do anything, yet.

	* VERSION: version 0.1 set
	
	
