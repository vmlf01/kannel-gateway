2003-07-11  Bruno Rodrigues  <bruno.rodrigues@litux.org>
    * gwlib/http.c: added some comments
    * gwlib/http.c[http_header_pack]: implemented header_pack functionality
      to aggregate similar headers without exceed a string limit - this is
      required because if you have one header with all, it's too long, and if
      you have one header for each value it's too many headers

2003-07-07  Bruno Rodrigues  <bruno.rodrigues@litux.org>
    * debian/kannel-cvs.docs: don't include deleted TODO
    * debian/rules: enabled cookies - hope they don't crash in version 1.2.x ;)
    * {test,utils}/.cvsignore: ignore new binaries

2003-07-02  Alexander Malysh  <a.malysh@centrium.de>
    * gw/dlr.c: fixed debug message if dlr_url was not set.
      gw/dlr_mysql.c: fixed a bug in missing '%s' for select statement.
      Thanks to John.Vandenberg@callista.com.au for pointing this.
      gw/dlr_sdb.c: fixed varios bugs introduced by me while rewriting of DLR code.
      Added workaround for Oracle (oracle doesn't like LIMIT 1).
      Thanks to John.Vandenberg@callista.com.au.
      doc/examples/dlr-[mysql|sdb].conf: added missing boxc field
      And again thanks to John.Vandenberg@callista.com.au.

2003-07-02  Alexander Malysh  <a.malysh@centrium.de>
    * configure.in,configure: added ability to biuld in more as one DLR storage type.
      Just call: ./configure --enable-mysql --enable-sdb --with-dlr="mysql sdb"
      in this case we have mysql and sdb support build in.

2003-07-02  Stipe Tolj  <tolj@wapme-systems.de>
    * wmscript/wsstdlib.c: added support for EFI inside WMLScript. 
      Thanks to "Guido Meyer" <guido.meyer@robot.de> for this patch.

2003-06-30  Bruno Rodrigues  <bruno.rodrigues@litux.org>
    * userguide.xml: added missing already implemented tags for XML Post - 
      vp/delay and timing/delay

2003-06-27  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/wap-appl.c: enhanced the 'access-log' logging of wapbox group to have
      more information stored to the log entries.

2003-06-25  Alexander Malysh  <a.malysh@centrium.de>
    * gwlib/conn.c: fixed not critical memory leak.

2003-06-24  Stipe Tolj  <tolj@wapme-systems.de>
    * radius/radius_acct.c: fixing mutex_lock() PANIC inside 
      radius_acct_get_msisdn() when gw/wap-appl.c is calling the function
      without having the proxy thread running. This broke wapbox.

2003-06-24  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/wap-appl.c: removing HTTP referer inclusion by Kannel again. This has
      caused WAP certification tests to fail in the REFPOOL. There is a magic
      WML attribute which forbids to send the referer, but as Kannel does it
      on it's own, the tests are failing and handset manufacturers complain.
    * gw/wml_definitions.h: updating the tables to the latest official WAP spec.
    * wap/wsp_strings.def: fixing macro naming. I don't know if this matters 
      really, but I thought of changing to lower case would be better.

2003-06-24  Alexander Malysh  <a.malysh@centrium.de>
    * gw/bb_boxc.c: fixed boxc mutex handling. We lock in box_sender but never unlock.This
      confuse valgrind as example and is a bug while destroying locked mutex.

2003-06-24  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/wap_push_pap_mime.c, gw/smsc/smsc_fake.c: some code styling
    * gwlib/dlr.c: fixed a output typo
    * gw/smsc/smsc_http.c: fixed PANIC'ing while previously destroying 
      cgivars that are afterwards destroyed anyway in the calling function.
      This was for system-type 'brunet' and 'xidris'.
    * gw/smsbox.c: fixing bug when new 'ppg_service_name' variable is NULLed
      and passed to octstr_compare() causing PANIC.

2003-06-23  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/wap_push_pap_mime.c: fixing compiler warning, commenting routine
      parse_short_tail() while unused in code.

2003-06-23  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_[fake|http|smasi].c: added 'throughput' delaying feature.

2003-06-23  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smscconn[_p].[ch]: added 'throughput' MT message per sec. limitation
      to abstraction layer.
    * gw/smsc/smsc_emi2.c: moved 'throughput' from EMI2 specific directive to
      abstracted directive to provide it to other SMSC client modules too.
    * gw/smsc/smsc_smpp.c: added 'throughput' feature to SMPP client module.
    * gwlib/cfg.def: moved all abstracted directives to the top of 'smsc' group

2003-06-20  Stipe Tolj  <tolj@wapme-systems.de>
    * doc/userguide/userguide.xml: fixing jade compiler warnings?!

2003-06-20  Stipe Tolj  <tolj@wapme-systems.de>
    * radius/radius_acct.c: fixed a bug when NAS does not provide framed IP
      address or caller ID (MSISDN), then discard the packet for the mapping,
      but do forward to the remote server.
      Thanks to "David Chkhartishvili" <datoch@magtigsm.ge> for spotting this.

2003-06-20  Stipe Tolj  <tolj@wapme-systems.de>
    * Makefile.in: added compilation of RADIUS related files inside radius/.
    * doc/userguide/userguide.xml: new MSISDN provisioning section describing
      the use of the RADIUS accounting proxy thread.
    * gwlib/cfg.def: removed properietary groups that are *not* used inside
      Kannel's tree and added 'radius-acct' group configuration directives.
    * gw/wap-appl.c, gw/wapbox.c: added RADIUS accounting proxy related calls.
    * radius/*: added RADIUS accounting proxy implemenation.
    * test/test_radius_*.c: added some testing applications for the RADIUS
      routines.

2003-06-19  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/dlr*.[ch], gw/smsc_[soap|smpp|oisd|emi2|cimd2|cgw|at2].c,
      gw/bearerbox.c: Alexander's major DLR rewrite to support callbacks 
      for the various storage types.
      [Msg-ID: <200306192033.01855.a.malysh@centrium.de>]

2003-06-19  Stipe Tolj  <tolj@wapme-systems.de>
    * gwlib/gwthread.h, gwlib/gwthread-pthread.c: bouncing back to previous
      revision. Doing the required mapping inside log.c itself via #define.
    * gwlib/log.c: fixed Michael's reported bug for the logging functions.
      (this one uses a simple #define mapping for getting the table slot).

2003-06-19  Stipe Tolj  <tolj@wapme-systems.de>
    * gwlib/gwthread.h, gwlib/gwthread-pthread.c: added function 
      gwthread_table_slot() to provide the slot integer of threadtable
      the thread is using.
    * gwlib/log.c: fixed Michael's reported bug for the logging functions.
 
2003-06-19  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_emi2.c: added initialization of privdata->check_time.
    * gwlib/gwthread-pthread.c: added cleaner initalization of pollfds.
    Thanks to "Nuno Ferreira" <nuno.ferreira@graycell.biz> for these.
    [Msg-ID: <005601c314a1$005b00c0$0b01010a@GRAYCELL.BIZ>]

2003-06-19  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_cimd2.c: fixed a bug inside CIMD2 module.
      Thanks to Per Skaglund <per.skaglund@dialtone.fi> for the patch.
      [Msg-ID: <1383.62.61.70.221.1054632009.squirrel@mail.dialtone.fi>]

2003-06-19  Alexander Malysh  <a.malysh@centrium.de>
   * test/test_dbpool.c, gwlib/http.c: fixed compiler warning

2003-06-19  Stipe Tolj  <tolj@wapme-systems.de>
    * gwlib/octstr.c[.debug]: fixed a possible segmenation fault in 
      octstr_url_encode() when passing an immutable Octstr.
      Thanks to Paul for spotting this.

2003-06-19  Stipe Tolj  <tolj@wapme-systems.de>
    * doc/userguide/userguide.xml: added documentation sections for PPG DLR.
      Thanks to Aarno for providing the sections.
      [Msg-ID: <F7348DBA-9D80-11D7-86C5-0003937AE746@gni.ch>]

2003-06-19  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsbox.c: added handling of PPG related DLR reports. PPG sends
      SMS with DLR, but smsbox has to do the DLR signalization to the 
      specified DLR-URL. The stored service name is read from PPG core group.
    * gw/urltrans.c: allow handling of NULLed URLTranslation in case it's a 
      PPGed DLR response.
    * gw/wap_ppg_push_machine.def: added PPG DLR related variables.
    * gw/wap_push_[ota|ppg|ppg_pushuser].[ch], gw/wapbox.c, wap/wap_events.def,
      wap/wsp_unit.c: added PPG DLR support. 
    * gw/smsc/smsc_http.c: added 'dlrurl' and 'dlrmask' handling for Kannel
      message proxying.
    * gwlib/cfg.def: added 'default-dlr-url', 'ppg-smsbox-id', 'service-name'
      to ppg core group and 'dlr-url', 'smsbox-id' to wap-push-user group.
      See new documentation sections for explanations.
    * gwlib/http.c: changed http_cgivar_dump() slightly.
    Again a patch by Aarno. Many thanks to the PPG maintainer ;)
    [Msg-ID: <EDE57806-94D8-11D7-8A04-0003937AE746@gni.ch>]

2003-06-19  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/wap_push_ota.c: fixed handling of Push flag.
    * gw/wap_push_pap_[compiler|mime].c: fixed PPG specifier and prologue
      parsing to support other PIs, including delimiter parsing.
    * gw/wap_push_ppg.c: added missing official WINA URIs
    * gw/wapbox.c, gwlib/cfg.def: added 'concatenation' and 'max-messages' 
      config directive support for wapbox group.
    * gwlib/http.c: fixed missing octstr_destroy()s.
    * test/test_ppg.c: major rewrites to support also binary content, etc.
    * wap/wsp_headers.c, wap/wsp_session.c, wap/wsp_strings.def, 
      wap/wsp_unit.c: added proper WSP 'Encoding-Version' handling.
    Patch made by Aarno. Thanks a lot.  
    [Msg-ID: <BFA27CD2-972C-11D7-9CAD-0003937AE746@gni.ch>]
         
2003-06-18  Alexander Malysh  <a.malysh@centrium.de>
    *  gwlib/dbpool.c: fixed compiler warning

2003-06-15  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_smpp.c: fixed compiler warning

2003-06-03  Bruno Rodrigues  <bruno.rodrigues@litux.org>
    * userguide.xml: added information about libxml2-dev packages; replace
      kannel.3glab.org to kannel.org

2003-06-02  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_smpp.c: fixed a bug in pdu_to_msg() while extracting the
      UDH sequence. If the UDH length indicator was > then the message itself
      the octstr_copy() calls would cause PANICs to stop bearerbox. Now we 
      discard any binary messages that don't have at least length valid UDH
      length indicators. Thanks to Alexander's broken SMPP server for 
      spotting this ;))

2003-05-29  Bruno Rodrigues  <bruno.rodrigues@litux.org>
    * config.{guess,sub}: updated from autotools-dev 20030519.1
    * userguide.xml: added missing documentation for notification-pid
      and notification-addr for UCP/EMI. Code patched on Aug 05 2002
    * userguide.xml: added frames to y/n tables; updated at2 capabilities

2003-05-28  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_http.c: some fixes for system-types 'brunet' and
      'xidris'.

2003-05-28  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_soap.c: adding new SMSC module for SOAP over HTTP from
      Oded and Dima from m-Wise. Yet not bound to the smsc abstraction
      layer. Thanks a lot!

2003-05-27  Bruno Rodrigues  <bruno.rodrigues@litux.org>
    * doc/userguide/userguide.xml: fixes in post-xml section

2003-05-27  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_cimd2.c: Fixing wrong time for messages. 
      Thanks again to Angel for this fix.

2003-05-27  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smscconn_p.h, gw/smscconn.c, gw/smsc/smsc_at2.h, 
      gw/smsc/smsc_[at2|cimd2|smpp].c: Angel's alt-dcs abstraction layer
      patch for at2, cimd2 and smpp. Thanks a lot.
      [Msg-ID: <NCEOLLKPFAEAOBBMHNHEAECCGAAA.afradejas@mediafusion.es>]

2003-05-27  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/shared.c, gw/smsbox.c: fixing mainly BUG#24 for sending too long 
      UDH indicator sequences. This does not cover the effect, when UDH is
      pretty long and Msg body is getting split and hence the UDH gets
      prepended with the UDH sequence numbers. At least this fix ensures 
      that octstr_copy() inside sms_split() does not panic. 
      Patch based on post by "Oleg Titov" <Oleg.Titov@aleph-tec.com>.
      [Msg-ID: <198463211.20030505104734@aleph-tec.com>]

2003-05-26  Alexander Malysh  <a.malysh@centrium.de>
    * gw/bearerbox.c: bugfix from previous commit.

2003-05-26  Alexander Malysh  <a.malysh@centrium.de>
    * gwlib/cfg.[ch], gw/bearerbox.c, doc/userguide/userguide.xml:
      added new command line option ("-g" or "--generate") to bearebox.
      This option just dump all known config
      groups and options to stdout. Later (if we have module API) we can
      dump default values also.

2003-05-24  Alexander Malysh  <a.malysh@centrium.de>
    * gwlib/octstr.[ch]: Made functions arguments const, then it's clear
      for caller whether we manipulate arguments.

2003-05-24  Bruno Rodrigues  <bruno.rodrigues@litux.org>
    * contrib/mon/kannel.monitor: applied fix from Dariusz Markowicz
      <00a301c321fa$08edab00$d4e34cd5@oem>

2003-05-19  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_http.c: fixed compiler warning

2003-05-16  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_http.c: fixed parse_xml_tag() function. This may be of 
      abstractive use inside gwlib/octstr.[ch]?!

2003-05-16  Stipe Tolj  <tolj@wapme-systems.de>
    * doc/userguide/userguide.xml: added 'xidris' to HTTP SMSC system-type
      values.
    * gw/smsc/smsc_http.c: added Xidris HTTP interface as system-type 
      'xidris'. Yet not tested against server.

2003-05-15  Stipe Tolj  <tolj@wapme-systems.de>
    * gwlib/md5.[ch]: added md5digest() function to return the raw 16 bytes
      of the hashed value.
    * gw/smsc/smsc_http.c: bruNET MT needs a 32 byte transaction id. Hence
      we use MD5 to generate an transaction id.
    * gw/smsc/smpp_pdu.c: removed assetion checking inside parsing function.
      bearerbox should not panic on malformed PDU packets.

2003-05-04  Bruno Rodrigues  <bruno.rodrigues@litux.org> 
    * debian/*.init: fix bug (Closes: #25)

2003-04-29  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_emi2.c: login operation 60 had a hard timeout of 30 sec.
      Some SMSC may need longer to ACK the login, so use the 'wait-ack' time
      value here too in case it's larger then 30 sec.

2003-04-25  Alexander Malysh  <a.malysh@centrium.de>
    * gw/smsc/smsc_smpp.c: fixed cheking of esm_class for DLR's.
      Following SMPP v.3.4. spec., we should check only bits 2-5.
    
2003-04-24  Alexander Malysh  <a.malysh@centrium.de>
    * gw/smsc/smsc_smpp.c: added using of smpp_error_to_string
      function for error log entries.

2003-04-24  Alexander Malysh  <a.malysh@centrium.de>
    * gwlib/md5.[ch]: fixed compiler warnings about static functions.

2003-04-24  Alexander Malysh  <a.malysh@centrium.de>
    * gw/smsc/smpp_pdu.c: fixed typo in error message.
    
2003-04-24  Alexander Malysh  <a.malysh@centrium.de>
    * gw/smsc/smpp_pdu.[ch],gw/smsc/smsc_smpp.c: Moved SMPP error codes
      enum to smpp_pdu.h. Added additional error codes. Added new function
      smpp_error_to_string(...), so if error occurs we can log fully error
      string and we have no need to looking in SMPP spec.

2003-04-22  Stipe Tolj  <tolj@wapme-systems.de>
    * gwlib/gwlib.h: added md5 header inclusion.
    * gwlib/md5.[ch]: added MD5 message digest algorithm. This may be used in
      various places, including computation of unique IDs etc.
    * test/test_md5.c: added simple testing program.

2003-04-17  Stipe Tolj  <tolj@wapme-systems.de>
    * configure[.in]: removed checking of libiconv.a. Some systems, like Linux
      contains iconv functions inside glibc. We check the for the header only.
    * configure[.in]: seems I'm wacky today. Of course we need the checking 
      still, otherwise systems that need linking against the lib will fail the
      build process, ie. Cygwin. So I'm adding this again, but without 
      explicite warning message.

2003-04-17  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_http.c: fixing a missing urldecode in brunet_send_sms().
    * gw/smsc/smsc_http.c: fixed minor issue in brunet_send_sms().

2003-04-16  Stipe Tolj  <tolj@wapme-systems.de>
    * utils/mtbatch.c: added MT batch utility. This application connects to
      bearerbox via smsbox interface and sequentially sends a pulk of MT messages 
      to a speficied range of receiver numbers. Currently 7-bit only.
    * Makefile.in: added utils/mtbatch.c to the make process.

2003-04-15  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_http.c: harmonized smsc output to be in same style as others.
      Fixed expected MO parameters to 'username' and 'password' instead of 'user'
      and 'pass'. Now you can use the smsc_http module to loop messages from MT
      to MO direction. See new user's guide section.
    * doc/userguide/userguide.xml: added new 'MT to MO direction switching' 
      section to illustrate how to use HTTP SMSC module to achive this.

2003-04-14  Alexander Malysh  <a.malysh@centrium.de>
    * gw/smsc/smsc_emi2.c: fixed c&p typo.

2003-04-14  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_http.c: added new bruHTP 2.1 version and using account field
      for cgi var proxying inside the module.

2003-04-14  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smpp_pdu.c: removed gw_assert() checking within smpp_pdu_pack() 
      in order not to crash bearerbox. Thanks to <Jason.Pell@Callista.com.au>
      for point this out again.
    * gwlib/octstr.[ch][.debug]: added two new functions: octstr_is_all_hex()
      to check if given Octstr* is in hex notation and 
      octstr_delete_matching() to delete matching segments within an Octstr*.
      Thanks to Aarno for providing these implementations.

2003-04-08  Bruno Rodrigues  <bruno.rodrigues@litux.org> 
    * debian/*: more updates - update Standards to 3.5.9; build "-docs"
      packages as arch independent to have debian build system generate only
      one -docs package and kannel* and kannel-extra* packages for every
      architecture; updated conflicts - kannel, kannel-devel and kannel-cvs 
      conflicts but -docs and -extras don't :) You can have all documentation
      installed at the same time, but only one kannel instance

2003-04-08  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_smpp.c: fixed some more typos. Thanks again to 
      "Rachman Chavik" <rachman.chavik@radius-ed.com> for this.
    * contrib/mon/kannel.monitor: fixing problems for perl 5.8.0 release with
      reference hashes. Thanks to "Dariusz Markowicz" <dariuszm@tenbit.pl>.

2003-04-07  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_smpp.c: fixed an obivious typo. Patch provided by 
      "Rachman Chavik" <rchavik@attglobal.net>. Thanks a lot.

2003-04-06  Stipe Tolj  <tolj@wapme-systems.de>
    * configure[.in]: fixed a bug from previous commit.

2003-04-06  Stipe Tolj  <tolj@wapme-systems.de>
    * configure[.in]: fixing BUG#18, which caused to break the build process
      if mysql had library dependencies (ie. -lz) because they where not 
      included in the last stage linking process. Now we try to detect via
      mysql_config which libraries should be added.

2003-04-05  Bruno Rodrigues  <bruno.rodrigues@litux.org> 
    * debian/*: syncronized with .diff files
    * debian: now defaults to generating a kannel-cvs package for building
      daily snapshots. To build stable or devel, rename
      {changelog,control}.{stable,devel} to {changelog,control}
    * debian/.cvsignore: also ignore kannel-cvs temporary directories
    * debian/*.postinst: fixed chown /var/run bug
    * config.{guess,sub}: updated to new files - hope it won't break anything
    * gw/sms.c: also set alt_dcs=0, improvement to Alexander patch at Mar 04
    * Note: kannel 1.2.1 and 1.3.1 are about to enter debian :)))))

2003-04-05  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_http.c: fixed compiler warning.

2003-04-04  Stipe Tolj  <tolj@wapme-systems.de>
    * test/test_headers.c: changed to take an argument as filename instead
      of the hard-coded filename.
    * test/test_http_server.c: more -? output added and added a -r option to
      define which static reply text should be in response.
    * gw/smsc/smsc_http.c: fixed a number of bugs. Including bearerbox crash
      if smsc-id is stopped and /status page is called. Restructured IO threads
      to work cleanly now, which means don't 'fail' a MT message when the HTTP
      server can not be triggered. Instead use 'reconnect-delay' to try again.
      Aded also another 'system-type = brunet' for an implemenation of Brunet's
      HTTP interface.

2003-04-03  Stipe Tolj  <tolj@wapme-systems.de>
    * test/test_octstr_dump.c: added a simple tester for octstr_dump(). Takes
      one argument, opens the file, reads the content and dumps the content
      using octstr_dump().

2003-04-03  Stipe Tolj  <tolj@wapme-systems.de>
    * gwlib/http.[ch]: added http_get_header_parameter() function to return a
      specific parameter value for multi-parameter headers.
    * doc/userguide/userguide.xml: added section about new 'no-dlr' for CIMD2.
    * gwlib/cfg.def, gw/smsc/smsc_cimd2.c: added new 'no-dlr' config directive
      to indicate if DLR requests should be proceeeded for a CIMD2 connection.
      This *should* be abstracted for all SMSC types in the next future!
      Thanks to "Dziugas Baltrunas" <menulis@soften.ktu.lt> for the patch.
      [Msg-ID: <Pine.LNX.4.53L0.0304021137580.5595@diedas.soften.ktu.lt>]

2003-04-01  Alexander Malysh  <a.malysh@centrium.de>
    * configure.in, config.h.in, gwlib/protected.c: added check and using
      for reentrant functions (localtime_r,gmtime_r) in gw_localtime,gw_gmtime.
      In case of existing and using this functions, we avoid locking.

2003-03-31  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_cimd2.c: re-patching Angel's fix from 2003-03-27.

2003-03-31  Stipe Tolj  <tolj@wapme-systems.de>
    * gwlib/http.c: fixing a serious bug in the HTTP client code causing 
      smsbox to crash if the connection is closed directly by the HTTP server.
      Thanks to "Michael Mulcahy" <michael.mulcahy@anam.com> for a fix!
      [Msg-ID: <000a01c2f555$6c920790$6100a8c0@synge.anam.com>]

2003-03-29  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_emi2.c: fixed a typo for 'wait-ack-expire' handling.
      Thanks to Angel who reported this.

2003-03-28  Stipe Tolj  <tolj@wapme-systems.de>
    * gwlib/http.c: fixed a bug while HTTP redirecting (BUG#12). Also added
      HTTP response code 307 for redirection. Some source code formating.
      Thanks to Angel for reporting and providing a fix ;)
    * test/test_http.c: allow client to follow HTTP redirects.
    * test/test_http_server.c: added a special URI /redirect/ that can be
      used to test the redirection handling and reorganized the thread to
      be more clean.

2003-03-28  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/wap_push_pap_compile.c: fixing a *possible* inconsistence with PAP
      and PPG specs. The constants "WAPPUSH" and "TYPE" should?! be in upper
      case as defined in specs. But the specs also use examples with lower 
      case, so we'll handle both for the sake of interopertibility with
      existing PI vendors. Thanks to "Ritesh Shah" <riteshs@rediff.co.in>
      for reporting this.
      [Msg-ID: <094b01c2f516$175e3210$6b0110ac@ritesh>]

2003-03-27  Alexander Malysh  <a.malysh@centrium.de>
    * gw/smsbox.c: added temporarily fix to smsbox that "handle" ack messages
      from bearerbox, so user will not be confused with warning about not
      handled messages.

2003-03-27  Stipe Tolj  <tolj@wapme-systems.de>
    * gwlib/log.c: fixing possible seg fault bug while re-opening "shared"
      log files. Thanks to Alexander for this patch.
      
2003-03-27  Stipe Tolj  <tolj@wapme-systems.de>
    * doc/userguide/userguide.xml: added CIMD2 specific documentation for 
      Angel's latest CIMD2 re-design patch.
    * gw/smsc/smsc_cimd2.c: Angel's fix for CPU load consume while idle and
      minor changes.
      [Msg-ID: <NCEOLLKPFAEAOBBMHNHEMELPFKAA.afradejas@mediafusion.es>]

2003-03-27  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_at2.c: added an 'error' warning in case we can't decode 
      the PDU sequence. Thanks to "Bas A. Schulte" <bschulte@zeelandnet.nl>
      for giving us a hint here.

2003-03-27  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/msg.h, gw/bb_boxc.c, gw/[bearer|sms|wap]box.c: added Alexander's 
      restarting patch to allow sending restart command within Kannel's 
      internal communication.
      [Msg-ID: <200303222057.12928.a.malysh@centrium.de>]

2003-03-25  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smscconn[.c|_p.h], gw/smsc/smsc[.c|_p.h]:
      this is a rewrite of the CIMD2 module to be addopted to the new
      SMSCConn API layer. Thanks to Angel for sending this patch.
    * gw/smsc/smsc_cimd2.c: Added additional support features:
      'our-host', 'our-port' and parameter 069 (service center address) have
      been added. Harmonzied log message formating.
      BEWARE: there are also COMPATIBILITY BREAKERS:
      Harmonized 'my-number' directive, this makes 'sender-prefix' absolete.
      Interpretation of 'keepalive' is now in seconds instead of minutes.
      [Msg-ID: <NCEOLLKPFAEAOBBMHNHEKEBBFKAA.afradejas@mediafusion.es>]

2003-03-25  Stipe Tolj  <tolj@wapme-systems.de>
    * Makefile.in: fixing Bruno's delete commit that caused config.sub and 
      config.guess to dissapear after a 'make distclean'. They are part of
      configure and have been produced while autoconf did all it's magic.
      Thanks to Alan for this hint.

2003-03-21  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_emi2.c: fixed a re-connection bug cause by last commit.
      Thanks to Angel for this one.
      [Msg-ID: <NCEOLLKPFAEAOBBMHNHEEEAKFKAA.afradejas@mediafusion.es>]
    * utils/makedist: added creation of bzip2 tarball and md5 sums.

2003-03-21  Stipe Tolj  <tolj@wapme-systems.de>
    * gwlib/log.c: fixed a possible bug, when a logging file is opened twice.
      Now we search for the filename in the open table and simply pass the 
      file descriptor of that already opened log file to the new logger.
      Thanks to Alexander for this patch.

2003-03-20  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/wap_push_ppg[_pushuser].c: fixed BUG#8. Reported by Bas A. Schulte.

2003-03-20  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/wap_push_pap_compiler.c, wap/wap_events.def: fixed none accepted <pap>
      attribute 'product-name'. Thanks to "Bas A. Schulte" <bschulte@zeelandnet.nl>.
      [Msg-ID: <B647848F-5A5B-11D7-8DAC-000393059670@zeelandnet.nl>]
    * test/test_pap.c: added return code output in case pap_compile() fails.

2003-03-20  Stipe Tolj  <tolj@wapme-systems.de>
    * doc/userguide/userguide.xml: added 'reconnect-delay' to the higher
      smsc group abstraction documentation and deleted 'retry' from emi2
      and at2.

2003-03-20  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/wap_push_ppg.c: fixed malformed xml reponses for the PAP document.
      Thanks to "Bas A. Schulte" <bschulte@zeelandnet.nl> for this patch.
      [Msg-ID: <98D28678-5A1E-11D7-8DAC-000393059670@zeelandnet.nl>]
    
2003-03-19  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_smpp.c: moved 'reconnect-delay' also to the higher layer.

2003-03-19  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_smpp.c: added UDH support for MOs. Thanks to 
      David White <David.White@one.at> for this patch.
      [Msg-ID: <3E770BA2.5030701@i-one.at>]
    * gw/smscconn[.c|_p.h]: moved smsc group config directive 'reconnect-delay'
      into higher abstraction layer to provide this for all SMSC modules. 
      Reconnect delay is defaulting to 10 sec.
    * gw/smsc/smsc_[at2|emi2|smasi].c: changed reconnecting behaviour to use
      value in the abstraction layer. Thanks to Angel for his patch here!
    * gwlib/cfg.def: removed no more needed 'retry' smsc group directive. This
      is now handled via the more abstracted 'reconnect-delay' value.

2003-03-19  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/wml_compiler.c: fixed compiler warning.

2003-03-18  Stipe Tolj  <tolj@wapme-systems.de>
    * test/test_http_server.c: added a special URI /save which causes to save
      the received body of a POST request to a temporary /tmp/body.<pid>.<n> 
      file. This may be used for analyzing MMS related POST requests.

2003-03-17  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/wap-error.[ch]: added error_converting() for reporting smart error
      messages if the converter failed, ie. libxml2 parser failed because of
      non-indicated encoding in the xml source.
    * gw/xml_shared.[ch]: added find_charset_encoding() to scan the xml preamble
      line, ie. <?xml version="1.0" encoding="iso-8859-1" ?> and extract a given
      charset encoding definition if available.
    * gwlib/octstr.h, gwlib/dbpool.c: cosmetic fixes
    * gw/wml_compiler.c: make wml_compile() more "inteligent" concerning the 
      encapsulated charset encoding in the xml source. This also fixes BUG#6.
      The problem was/is that the HTTP reponse header can deliver a charset
      definition and the xml preamble. So we cascade now as follows:
      If xml preample has an encoding specified, this overrides the HTTP reponse
      header, if not we take the HTTP reponse header if available. If both
      are not available, we assume UTF-8 as default encoding charset.
      The charset information is stored in the libxml2 document tree and re-used
      afterwards while text elements are parsed and transcoding to the targeted
      charset has to be done.
    * gw/wap-appl.c: added smart error messaging if converters failed while
      converting or compile a supported content-type, ie. a WML compilation
      failed.

2003-03-13  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smpp_pdu.c: Alexander's patch for fixing optional SMPP 3.4 
      parameter parsing. Thanks a lot.
      [Msg-ID: <200303121404.42328.a.malysh@centrium.de>]

2003-03-13  Stipe Tolj  <tolj@wapme-systems.de>
    * doc/userguide/userguide.xml: removed no-longer necessary 'force-sar'
      diretive, fixing BUG#7.

2003-03-11  Stipe Tolj  <tolj@wapme-systems.de>
    * gwlib/dbpool.[ch], test/test_dbpool.c: implements database connection
      pools for further use within Kannel. Currently MySQL is supported. More
      abstraction for various other DBMS is needed. 

2003-03-11  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/bb_boxc.c, gw/bb_smscconn.c, gw/msg.h, gw/smsbox.c: added Alexander's
      ACK/NACK patch to provide smsbox connections with accurate ACK'ing data.
      [Msg-ID: <200303092018.30806.a.malysh@centrium.de>]
      We'll have to decide now on how to react on inbound ACK messages within
      smsbox.

2003-03-09  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/bearerbox.c: while we receive SIGHUP we shouldn't re-load the store
      file, because we'd duplicate currently stored messages.
      Patch provided by Alexander.
    * contrib/kannel-monitor/index.php: some date calc fixed. Thanks to Alex.
    * gwlib/octstr[.ch|.debug]: added Alex's octstr_item_case_match() function.

2003-03-09  Stipe Tolj  <tolj@wapme-systems.de>
    * configure[.in], config.h.in, gw/bearerbox.c: added --disable-wap and 
      --disable-sms configure switches to disable parts in bearerbox.c.
      In an extended step these could be used to make a conditional compile
      process, where the whole WAP gateway libs don't need to be generated.
    * gwlib/conn.c, gw_bb_store.c: minor debug message beauty.
    * gwlib/http.c: opening an HTTP server should be 'info' log level.

2003-03-07  Stipe Tolj  <tolj@wapme-systems.de>
    * gwlib/http.c: fixed the previous kludge by a clean solution. We call
      parse_url() only once to populate the trans values. Added also dumping
      of the HTTP response. Can be turned of by switching of an #define.

2003-03-07  Bruno Rodrigues  <bruno.rodrigues@litux.org> 
    * Makefile.in: re-added make tests (closes: #3)
    * Makefile.in: clean automatic generated config.sub and config.guess in make
      distclean

2003-03-07  Stipe Tolj  <tolj@wapme-systems.de>
    * contrib/kannel-monitor/index.php: some minor changes contributed by
      Alexander.
    * gwlib/http.c: fixed (kludge?!) a HTTP basic auth problem with the passwd.
      Bruno substitues this with stars, I don't know why.

2003-03-06  Stipe Tolj  <tolj@wapme-systems.de>
    * contrib/kannel-monitor/*: a simple php application to summerize sms
      traffic accross several bearerbox instances, including automatic
      refresh and admin command support.

2003-03-06  Stipe Tolj  <tolj@wapme-systems.de>
    * gwlib/log.c: fixed compiler warning.
    * gw/smsc/smsc_smpp.c: fixed a charset encoding misbehaviour when msgs
      get split into multiple sms chunks. Now also the chunked, single msgs
      get passed to the charset encoding. 
      Thanks to "Benjamin Lee" <benjamin.lee@aspectdata.com> for this.

2003-03-05  Stipe Tolj  <tolj@wapme-systems.de>
    * gwlib/octstr.c[.debug], gwlib/log.c: fixed some compiler warnings.

2003-03-04  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_smasi.c: some minor cosmetic changes.

2003-03-04  Stipe Tolj  <tolj@wapme-systems.de>
    * doc/userguide/userguide.xml: added smsc based logging directives
    * gw/wapbox.c, gw/smsbox.c, gw/bearerbox.c, test/drive_smpp.c,
      test/test_http_server.c, test/test_pap.c, test/wml_tester.c,
      gwlibs/utils.c: added the GW_NON_EXCL flag to the new log_open() call.
    * gw/smscconn.c, gw/smscconn_p.h, gwlib/cfg.def : added 'log-file' and 
      'log-level' as smsc global config directives.
    * gwlib/gwlib.c: gwlib_init() calls now log_init() too, in order to 
      initialize the index mapping array.
    * gwlib/log.[ch]: added smsc specific logging capability by handling 
      open log files in exclusive or non-explusive mode within the open log
      file array. Added log_thread_to() function to allow a working thread
      to register to a specific exlusive log file.
    * gw/smsc/smsc_[at2|cgw|emi2|fake|http|smasi|smpp|wrapper].c: added 
      register calls log_thread_to() within the working threads in case the
      smsc-id should be logged to a seperate, exlucive log-file.

2003-03-04  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_smasi.c: fixed bugs in pdu_to_msg(), including the setting
      of 7bit coding to have normal text logged in access.log.
    * gw/bb_boxc.c: added missing smsbox-id output to XML tree of /status.xml.
    * gw/sms.c: fixed alt_dcs re-coding misbehaviour. Reported by Alexander.
    * gwlib/conn.c: cosmetic changes

2003-03-04  Stipe Tolj  <tolj@wapme-systems.de>
    * gwlib/octstr.[ch|debug]: added some more functions provided by Nisan.
      [Msg-ID: <5.1.0.14.0.20030304085848.026b6020@amagoblin.ialien.co.za>]
    * gwlib/conn.[ch], gwlib/http.c: fixed a serious pthread_mutex bug for 
      the call-back function to the openssl thread locking. We used two
      seperate lock array, one for the client and one for the server side.
      But openssl does not know about those, and you can't register two
      different call-backs for client/server side. This should make now
      a lot of ssl related things more cleaner.

2003-02-28  Stipe Tolj  <tolj@wapme-systems.de>
    * gwlib/log.c: fixed minor problems from last commit. Thanks to Angel.

2003-02-27  Stipe Tolj  <tolj@wapme-systems.de>
    * doc/userguide/userguide.xml: move 'our-host' from SMSC specific config 
      sections to global SMSC section and added HTTP admin command 'loglevel'.
    * gwlib/log.[ch], gw/bb_http.c: added HTTP admin command 'loglevel' to 
      change log-level of log-files while bearerbox is running.
      Patched submited by Angel. Slightly modified by me.
      [Msg-ID: <NCEOLLKPFAEAOBBMHNHEIEIFFGAA.afradejas@mediafusion.es>]

2003-02-27  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_smpp.c: adding handling of invaid userid and/or passwd to 
      shutdown SMSC connection rather then retrying to reconnect.
      Thanks to Alexander for this patch.
      [Msg-ID: <200302271127.55572.a.malysh@centrium.de>]

2003-02-27  Stipe Tolj  <tolj@wapme-systems.de>
    * configure[.in]: added checking of --[enable|disable]-docs switch.
      Thanks to Alan for the reminder and the patch.
    * gw/smscconn_p.h, gw/smscconn.c, gw/smsc_[smpp|smasi|http|fake|emi2|cgw].c:
      Added 'our-host' interface support for binding to an explicite interface
      on SMSC connections. Patch provided by Angel.
      [Msg-ID: <NCEOLLKPFAEAOBBMHNHEKEGOFGAA.afradejas@mediafusion.es>]
    * gw/dlr.c: memory leak fix. Thanks to Alexander for pointing to this.

2003-02-24  Stipe Tolj  <tolj@wapme-systems.de>
    * doc/userguide/userguide.xml: entry about 'restart' command
    * gw/bearerbox.c, gw/bb_boxc.c, gw/bb_http.c: admin HTTP command 'restart' added
      to restart bearerbox. Patch by Alexander.
      [Msg-ID: <200302222202.55347.a.malysh@centrium.de>]

2003-02-23  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_smpp.c: fixed a mistakely deleted increament of msg_id_counter
      in smpp_create() for sequence_numbers starting 0x0000001.

2003-02-21  David Holland  <david.holland@3glab.com>
    * gw/smsc/smpp_pdu.def: fixed generic_nack definition (thanks to
      Alexander Malysh)

2003-02-18  David Holland  <david.holland@3glab.com>
    * gw/smsc/smsc_smpp.c, gwlib/cfg.def, doc/userguide/userguide.xml:
      added facility to specify SMPP SMSC service type with
      'service-type = "foo"' syntax (thanks to Nick Clarey)

2003-02-18  Stipe Tolj  <tolj@wapme-systems.de>
    * gw/smsc/smsc_smasi.c: fixed typo bug in reading the TON and NPI config
      directives for the SM/ASI module.

2003-02-17  Stipe Tolj  <tolj@wapme-systems.de>
    * Making development release 1.3.1.

