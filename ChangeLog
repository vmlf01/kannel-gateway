2006-11-17  Stipe Tolj  <stolj at kannel.org>
    * doc/userguide/userguide.xml: section describing the new 'interactive' mode
      for fakesmsc.
    * test/fakesmsc.c: adding 'interactive' mode via stdin and stdout to allow
      a more human like interaction with the fake smsc module.
      Thanks to Alejandro Guerrieri <alejandro.guerrieri@gmail.com> for patch.
      [Msg-Id: <cd6a81510610032000s2799a2c5uc2a255b15c53e899@mail.gmail.com>]

2006-11-13  Stipe Tolj  <stolj at kannel.org>
    * gw/smsc/smsc_smpp.c: relaxing the TON=1 must have >= 7 digits condition.
      According to Andreas (see reference), there can be international routable
      numbers with less then 7 digits. So we only drop a WARNING here and 
      continue with processing. 
      [Msg-Id: <0C09E1C0-D32C-41AA-AD14-4F8D849D92C4@fink.org>]
      
2006-11-11  Stipe Tolj  <stolj at kannel.org>
    * gw/bb_alog.c: also add octstr_convert_printable() if custom access-log
      formating is used.

2006-11-10  Stipe Tolj  <stolj at kannel.org>
    * gwlib/octstr.[ch]: adding function octstr_convert_printable() to allow
      a simple convertion for an Ocstr to be printed in a printable locale
      character set. Converts and non-printbale char to '.', as octstr_dump()
      does.
    * gw/bb_alog.c: ensure in bb_alog_sms() that we use octstr_convert_printable()
      before calling alog() for DC_7BIT messages that still may contain control
      sequences and hence break the "one-line-per-entry" rule.      

2006-11-03 Alexander Malysh <amalysh at kannel.org>
    * gw/bb_boxc.c: fixed message of order issue when we retry to deliver
      to smsbox. Thanks to Ben Suffolk <ben at vanilla.net> for the patch.
      [Msg-Id: <C1DA6177-EA8E-458A-9BE7-B329DEC793C3@vanilla.net>]

2006-10-31 Alexander Malysh <amalysh at kannel.org>
    * gwlib/conn.c, gwlib/http.c: fixed race condition in
      unregister/callback usage/destroy of callback data. The race is
      as follow, spotted with help of http.c:
	1 Thread				2 Thread
      1) http:conn_pool_get			1) http:check_pool_conn
      2) conn = XYZ
      3) conn_unregister
		in conn_unregister
		destroy callbackdata
						2) dict_get(conn_pool, key) -> crash
                                                   because connback data already destroyed

2006-10-26 Alexander Malysh <amalysh at kannel.org>
    * gwlib/http.c: security bug fix for http.c. We have issue when we
      use keep alive connections with our connection pool. This is scenario
      without a patch:
          1) http_start_request(..., ssl=0,certkeyfile=NULL,our_host=NULL)
          2) http_start_request(..., ssl=1,certkeyfile=XYZ,our_host=XYZ)
      in (2) we will get from conn_pool_get connection from (1)!

2006-10-13  Stipe Tolj  <stolj at kannel.org>
    * gwlib/mime.c: fixing unquoting while contructing octstr from mime object.
      Thanks to Paul for this fix.
      [Msg-Id: <121E1E3B-AADA-4FC4-956A-AE410B416EF9@dsmagic.com>]
    
2006-10-13  Stipe Tolj  <stolj at kannel.org>
    * gw/urltran.c: fxing alias support for sms-service in smsbox. Thanks to
      Vincent for analysis and patch. Also removed debugging grp_dump() from
      Alex' previous UTF-8 patch.
      [Msg-Id: <000901c6eb10$e930c750$9600a8c0@vince>]
      
2006-10-10  Stipe Tolj  <stolj at kannel.org>
    * gwlib/mime.c: fix MIME boundry check and fixup. Thanks to Paul for this.
      [Msg-Id: <443F5E2B-781C-425C-8B85-E2D7ACEAA430@dsmagic.com>]
      
2006-10-10  Stipe Tolj  <stolj at kannel.org>
    * configure[.in], gwlib/regex.h: ensure that we use the pcreposix wrapper 
      lib for POSIX.1 instead of system regex if PCRE is enabled.
   
2006-10-06 Alexander Malysh <amalysh at kannel.org>
(CB)  * gw/sms.c, gw/smsbox.c, gw/urltrans.c, gw/smsc/smsc_at.c, gw/smsc/smsc_cimd2.c,
      gw/smsc/smsc_emi.c, gw/smsc/smsc_ois.c, gw/smsc/smsc_oisd.c, gw/smsc/smsc_smpp.c,
      gw/smsc/smsc_soap.c, gwlib/charset.c, gwlib/charset.h, gwlib/latin1_to_gsm.h:
      Applied patch that converts internal kannel charset to UTF-8. Please note that
      I didn't add smsbox compatibility code, means smsbox expect text body to be 
      encoded in UTF-8 as default also MOs will be forwarded in UTF-8. It could be
      workarounded with charset cgi variable.

2006-10-02  Stipe Tolj  <stolj at kannel.org>
    * doc/userguide/userguide.xml: fix once again URL in example of 'generic'
      in order not to use '&' char.
    
2006-10-02  Stipe Tolj  <stolj at kannel.org>
    * doc/userguide/userguide.xml: fix URL in example of 'generic'
      system-type of smsc http group. Obviously brakets indicate an
      XML tag and jade doesn't like this.

2006-10-01  Stipe Tolj  <stolj at kannel.org>
    * doc/userguide/userguide.xml: fix typo delete in XML structure.
    
2006-10-01  Stipe Tolj  <stolj at kannel.org>
    * doc/userguide/userguide.xml: updating SMSC HTTP section for new
      'generic' system-type regex directives and a group example.
    * gwlib/cfg.def: adding 'status-[success|tempfail|permfail]-regex'
      to smsc group for 'generic' system-type of SMSC HTTP.
    * gw/urltranc.[ch]: adding urltrans_fill_escape_codes() to make the
      msg struct internal values available via the escape code function.
    * gw/smsc/smsc_http.c: adding the new 'generic' system-type to allow
      the usage of the escape code sequenced in send-url and regex parsing
      of HTTP response. This new system-type may handle a lot of existing
      properitary HTTP APIs of SMS gateway aggregators without the need to
      code and add the explicite HTTP API to this module.

2006-09-29  Stipe Tolj  <stolj at kannel.org>
    * test/test_urltrans.c: modified argument list for urltrans_find(), 
      according to previous patchset commit.
    
2006-09-29  Stipe Tolj  <stolj at kannel.org>
    * doc/userguide/userguide.xml: section on new 'accepted-account' and
      'accepted-account-regex' config directives for sms-service group.
	* gwlib/cfg.def: adding 'accepted-account' and 'accepted-account-regex' 
	  config directives for sms-service group.
    * gw/smsbox.c, gw/urltrans.[ch]: adding service routing based on account
      field. This allows routing of MO messages depending on the account set
      by an aggregative SMSC provider.
      Patchset submited by Alejandro Guerrieri <alejandro.guerrieri@gmail.com>
      [Msg-Id: <cd6a81510607212039g1f805f25jaba5ef4249922aa5@mail.gmail.com>]
      [Msg-Id: <cd6a81510607231933h2554dd44i9450f507bcb9f470@mail.gmail.com>]
      
2006-09-29  Stipe Tolj  <stolj at kannel.org>
    * gw/smsc/smsc_fake.c: add TODO comment to add a SMPP DLR payload text
      for a DLR returned back via fake module.
    * gw/smsc/smsc_smpp.c: obey charset more closely in msg_to_pdu(), where
      we don't call charset_latin1_to_gsm() if charset flag of msg struct
      carries the "GSM-03.38" indication. This is not yet used by smsbox, but
      may be used by external modules before we have a clean transition to
      UTF-8 as internal charset and target charset indication via msg struct's
      charset value. Also ensures now that we write a "FAILED DLR SMS" 
      access-log entry if we receive a DLR, but can't find it via handle_dlr().
    
2006-09-29  Stipe Tolj  <stolj at kannel.org>
    * gwlib/http.h: remove semicolon ';' from #define of http_receive_result(),
      otherwise the macro is not usable in regular expressions in the code.
      Thanks to Paul for pointing this out.
      [Msg-Id: <100C7857-7696-4A6F-B5E4-B5B4D1735E00@dsmagic.com>] 
     
2006-09-25  Stipe Tolj  <stolj at kannel.org>
    * Making stable release 1.4.1.
