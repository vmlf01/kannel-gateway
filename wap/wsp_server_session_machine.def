/*
 * wsp_server_session_machine.def - Define a WSP session machine.
 *
 * Lars Wirzenius
 */


#if !defined(HTTPHEADERS) || \
	!defined(INTEGER) || \
	!defined(OCTSTR) || \
	!defined(ADDRTUPLE) || \
	!defined(COOKIES) || \
	!defined(MACHINESLIST) || \
	!defined(CAPABILITIES) || \
	!defined(MACHINE) || \
        !defined(REFERER)
#error "Some required macro is missing."
#endif


MACHINE(
	INTEGER(state)
	INTEGER(connect_handle)
	INTEGER(resume_handle)
	INTEGER(session_id)
	ADDRTUPLE(addr_tuple)

	CAPABILITIES(request_caps)
	CAPABILITIES(reply_caps)

	INTEGER(MOR_push)
	INTEGER(client_SDU_size)
	
	HTTPHEADERS(http_headers)
	COOKIES(cookies)
        REFERER(referer_url)
	MACHINESLIST(methodmachines)
        MACHINESLIST(pushmachines)
)

#undef INTEGER
#undef OCTSTR
#undef HTTPHEADERS
#undef ADDRTUPLE
#undef MACHINESLIST
#undef MACHINE
#undef COOKIES
#undef CAPABILITIES
#undef REFERER

